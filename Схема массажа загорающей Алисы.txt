1. Оригинальное вступление:
    - Загораешь?
    - Как ты догадался, Шерлок?
    - Может быть, тебя намазать маслом для загара?
    - Если у тебя есть масло, то давай, раз тебе делать нечего. (если есть масло, если нет - как и в оригинале...)
    - Ложись на живот тогда...
    - Эти шезлонги всем хороши, но на животе загорать не получается. Приходится коврик для йоги использовать...
    
Дальше ветвление:
    {i}нанести крем{/i} (Доступна даже если масла мало (2 порции))
        - Текст, похожий на оригинал. В процессе, как и в оригинале можно уговорить Алису снять лифчик
        
    {i}сделать массаж с кремом{/i}:
        выбираем зону массажа
    
    
Выбираем зону массажа.

если выбранная зона уже массировалась, то после показа процесса массажа этой зоны:
        Alice_00 "Взялся делать массаж, а сам не знаешь что делать. Хватит, иди отсюда, дай позагорать спокойно."
        Max_00 "Эх... Ладно..."
        


если обломался с шансом на успешный массаж, то:
        if len(_massage) > 0:  # есть успешно помассированные участки
            Alice_00 "Хватит, Макс... Что-то у тебя не так пошло... А ведь так хорошо начал..."
        else:  # первый же массаж
            Alice_00 "Макс, хватит... Что-то не похоже, что ты знаешь, что делаешь... Давай на этом закончим..."
        Max_00 "Хорошо, извини..."




Выбрана левая ступня:
        Max_00 "{i}Разомнём левую ступню...{/i}"
        Max_00 "{i}Теперь правую...{/i}"
Выбрана правая ступня:
        Max_00 "{i}Разомнём правую ступню...{/i}"
        Max_00 "{i}Теперь левую...{/i}"
Общая для ступней часть:
            # Макс прошёл курс массажа ступней
            $ _multipler = 6 - len(_massage) if len(_massage) else 10  # множитель навыка. Если ступни первые, шанс удваивается
            if RandomChance(GetChance(mgg.massage, _multipler, 950)):
                # Алисе понравилось
                Alice_00 "Ух, как приятно..."

        elif len(_massage) > 0:
            # ступни массировались не первыми
            Alice_00 "А ничего так, мне приятно..."

        else:
            # ступни массировались первыми, реакция Алисы расчитывается через шансы
            # при этом навык у Макса меньше 1 ( меньше 10 в оригинале), поэтому идет расчет от фиксированного значения
            if RandomChance(650+mgg.massage*10):  # шанс 65-75%
                # Алисе понравилось
                Alice_00 "А ты неплох сегодня в этом деле... Моим пяточкам приятны твои руки..."


Выбраны голени:
            # Макс прошёл курс массажа ступней
            $ _multipler = max(1, 5 - len(_massage))
            $ _multipler *= 2 if len(_massage)>0 and _massage[0]='foot' # множитель навыка удваивается, если ступни были первыми
            if RandomChance(GetChance(mgg.massage, _multipler, 950)):
                # Алисе понравилось
                Alice_00 "Ух, как приятно..."

        elif len(_massage) > 0 and _massage[0]='foot':
            # ступни массировались первыми, реакция Алисы расчитывается через шансы
            # при этом навык у Макса меньше 1 ( меньше 10 в оригинале), поэтому идет расчет от фиксированного значения
            if RandomChance(650-100*len(_massage)+mgg.massage*10):  # шанс падает на 10% с каждой следующей зоной. Для ступней 65-75%%, для второй зоны 55-65, 3й - 45-55, 4й - 35-45
                # Алисе понравилось
                Alice_00 "Ах, моим ножкам так хорошо..."

        else:
            # ступни массировались не первыми
            Alice_00 "Неплохо, Макс..."


Выбраны бёдра:
        # бёдра доступны только если Макс прошёл курс массажа ступней
        $ _multipler = max(1, 5 - len(_massage))
        $ _multipler *= 2 if len(_massage)>0 and _massage[0]='foot' # множитель навыка удваивается, если ступни были первыми

        if RandomChance(GetChance(mgg.massage, _multipler, 950)):
            # Алисе понравилось
            Alice_00 "А я и не знала, что твои руки могут быть одновременно сильными и нежными..."


Для плеч и спины один раз за массаж доступен диалог про верх купальника:
        menu:
            "{i}массировать молча{/i}":
                pass
            "А тебе нравится, что следы от лямок остаются?":
                menu:
                    Alice_06 "Нет, конечно. Но тебя я так радовать не собираюсь!"
                    "Что, стесняешься? {color=[_ch1_color]}(Убеждение. Шанс: [ch1_vis]){/color}":
                        if RandomChance(_ch1):
                            # удалось убедить Алису
                            Alice_07 "[succes!t]Нет, но... Ладно, всё равно тебе ничего не видно..."
                            Max_00 "Так держать, сестрёнка!"

                        else:
                            # Убедить не удалось
                            Alice_04 "[failed!t]Вот только на \"слабо\" меня брать не надо!"
                            Max_00 "Ладно, как скажешь..."
                            
                    "Ну, как хочешь...":
                        pass


Выбраны плечи:
            # Макс прошёл курс массажа ступней
            $ _multipler = max(1, 5 - len(_massage))
            $ _multipler *= 2 if len(_massage)>0 and _massage[0]='foot' # множитель навыка удваивается, если ступни были первыми

            if RandomChance(GetChance(mgg.massage, _multipler, 950)):
                # Алисе понравилось
                Alice_00 "Ка-а-йф..."

        elif len(_massage) > 0 and _massage[0]='foot':
            # ступни массировались первыми, реакция Алисы расчитывается через шансы
            # при этом навык у Макса меньше 1 ( меньше 10 в оригинале), поэтому идет расчет от фиксированного значения
            if RandomChance(650-100*len(_massage)+mgg.massage*10):  # шанс падает на 10% с каждой следующей зоной. Для ступней 65-75%%, для второй зоны 55-65, 3й - 45-55, 4й - 35-45
                # Алисе понравилось
                Alice_00 "Мои плечи в восторге..."

        else:
            # ступни массировались не первыми
            Alice_00 "Весьма неплохо, Макс..."


Выбрана спина:
            # Макс прошёл курс массажа ступней
            $ _multipler = max(1, 5 - len(_massage))
            $ _multipler *= 2 if len(_massage)>0 and _massage[0]='foot' # множитель навыка удваивается, если ступни были первыми

            if RandomChance(GetChance(mgg.massage, _multipler, 950)):
                # Алисе понравилось
                Alice_00 "Как приятно... Макс, ты делаешь успехи!"

        elif len(_massage) > 0 and _massage[0]='foot':
            # ступни массировались первыми, реакция Алисы расчитывается через шансы
            # при этом навык у Макса меньше 1 ( меньше 10 в оригинале), поэтому идет расчет от фиксированного значения
            if RandomChance(650-100*len(_massage)+mgg.massage*10):  # шанс падает на 10% с каждой следующей зоной. Для ступней 65-75%%, для второй зоны 55-65, 3й - 45-55, 4й - 35-45
                # Алисе понравилось
                Alice_00 "Руки у тебя нежные. Приятно очень..."

        else:
            # ступни массировались не первыми
            Alice_00 "Весьма неплохо, Макс..."


Для попки, так как она пока недоступна, алгоритм не прописывал


Концовки:
    ### Если Макс прошел курсы и успешно помассировал 5 зон
            Alice_00 "Макс, ты делаешь успехи! Ещё немного попрактикуешься, и к тебе будет сложно записаться на приём!"
            Alice_00 "Ладно, хватит на сегодня, Макс. И... спасибо!"
            Max_00 "Не за что!"
            
 
    ### Если Макс не проходил курсы, но начал массаж со ступней и успешно помассировал 4 зоны
        Alice_00 "Спасибо, Макс. На сегодня достаточно. У тебя неплохо получается, а если поучишься, может стать еще лучше."
        Max_00 "Да не за что, обращайся!"
        
        ### Открываетм доступ к курсу после первого успешного массажа всех 4-х зон
            Max_00 "{i}В чём-то Алиса права, поучиться, пожалуй, стоит.{/i}"
            $ online_cources.uppend(


    ### в противном случае доступны только 2 зоны, и они всегда успешны
        Alice_00 "Спасибо, Макс. На сегодня достаточно."
        Max_00 "Да не за что, обращайся!"



После этого идет проверка остатка крема: 
    если крема не осталось:
        Max_00 "{i}Ну вот, крем закончился. Надо еще купить.{/i}"

    если крем еще есть, но меньше 7 порций (не хватит на полный массаж)
        Max_00 "{i}Крема мало осталось, в следующий раз может не хватить, лучше купить заранее.{/i}"
